########################	
#ARMOURED SUPPORT TECHS#
########################

### ARTILLERY_UPGRADES ###
###
armored_mixed_support_artillery_upgrade = {
	
	allow = {
		or = {
			and = {
				has_country_flag = ARTILLERY_UPGRADES_ARMORED
				artillery_activation = 3
				not = { armored_mixed_support_artillery_upgrade = 1 }
				not = { armored_mixed_support_rocket_artillery_upgrade = 1 }
				not = { armored_mixed_support_medium_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_rct_artillery_upgrade = 1 }
			}
			and = {
				has_country_flag = ARTILLERY_UPGRADES_ARMORED
				artillery_activation = 4
				not = { armored_mixed_support_artillery_upgrade = 2 }
				not = { armored_mixed_support_rocket_artillery_upgrade = 1 }
				not = { armored_mixed_support_medium_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_rct_artillery_upgrade = 1 }
			}
			and = {
				has_country_flag = ARTILLERY_UPGRADES_ARMORED
				artillery_activation = 5
				not = { armored_mixed_support_artillery_upgrade = 3 }
				not = { armored_mixed_support_rocket_artillery_upgrade = 1 }
				not = { armored_mixed_support_medium_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_rct_artillery_upgrade = 1 }
			}
			and = {
				has_country_flag = ARTILLERY_UPGRADES_ARMORED
				artillery_activation = 6
				not = { armored_mixed_support_artillery_upgrade = 4 }
				not = { armored_mixed_support_rocket_artillery_upgrade = 1 }
				not = { armored_mixed_support_medium_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_rct_artillery_upgrade = 1 }
			}
			and = {
				has_country_flag = ARTILLERY_UPGRADES_ARMORED
				artillery_activation = 7
				not = { armored_mixed_support_artillery_upgrade = 5 }
				not = { armored_mixed_support_rocket_artillery_upgrade = 1 }
				not = { armored_mixed_support_medium_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_rct_artillery_upgrade = 1 }
			}
			and = {
				has_country_flag = ARTILLERY_UPGRADES_ARMORED
				artillery_activation = 8
				not = { armored_mixed_support_artillery_upgrade = 6 }
				not = { armored_mixed_support_rocket_artillery_upgrade = 1 }
				not = { armored_mixed_support_medium_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_rct_artillery_upgrade = 1 }
			}
		}
	}
	
	armored_support_brigade = {}
	SS_armored_support_brigade = {}
	
	on_completion = artillery_theory

	difficulty = 1
	
	research_bonus_from = {
		artillery_practical = 2
		artillery_theory = 2
	}

	# common for all techs.
	start_year = 1936
	first_offset = 1938		# 2nd model is from 1938
	additional_offset = 2	# one new every 2 years
	max_level = 6
	folder = special_forces_doctrine_folder
}

armored_mixed_support_medium_artillery_upgrade = {
	
	allow = {
		or = {
			and = {
				has_country_flag = ARTILLERY_UPGRADES_ARMORED
				Artillery_motorization = 1
				not = { armored_mixed_support_medium_artillery_upgrade = 1 }
				not = { armored_mixed_support_artillery_upgrade = 1 }
				not = { armored_mixed_support_rocket_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_rct_artillery_upgrade = 1 }
			}
			and = {
				has_country_flag = ARTILLERY_UPGRADES_ARMORED
				Artillery_motorization = 1
				not = { armored_mixed_support_medium_artillery_upgrade = 2 }
				not = { armored_mixed_support_artillery_upgrade = 1 }
				not = { armored_mixed_support_rocket_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_rct_artillery_upgrade = 1 }
			}
			and = {
				has_country_flag = ARTILLERY_UPGRADES_ARMORED
				Artillery_motorization = 2
				not = { armored_mixed_support_medium_artillery_upgrade = 3 }
				not = { armored_mixed_support_artillery_upgrade = 1 }
				not = { armored_mixed_support_rocket_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_rct_artillery_upgrade = 1 }
			}
			and = {
				has_country_flag = ARTILLERY_UPGRADES_ARMORED
				Artillery_motorization = 3
				not = { armored_mixed_support_medium_artillery_upgrade = 4 }
				not = { armored_mixed_support_artillery_upgrade = 1 }
				not = { armored_mixed_support_rocket_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_rct_artillery_upgrade = 1 }
			}
			and = {
				has_country_flag = ARTILLERY_UPGRADES_ARMORED
				Artillery_motorization = 4
				not = { armored_mixed_support_medium_artillery_upgrade = 5 }
				not = { armored_mixed_support_artillery_upgrade = 1 }
				not = { armored_mixed_support_rocket_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_rct_artillery_upgrade = 1 }
			}
		}
	}
	
	armored_support_brigade = {}
	SS_armored_support_brigade = {}
	
	on_completion = artillery_theory

	difficulty = 1
	
	research_bonus_from = {
		artillery_practical = 2
		artillery_theory = 2
	}

	# common for all techs.
	start_year = 1936
	first_offset = 1938		# 2nd model is from 1938
	additional_offset = 2	# one new every 2 years
	max_level = 5
	folder = special_forces_doctrine_folder
}

armored_mixed_support_rocket_artillery_upgrade = {
	
	allow = {
		or = {
			and = { 
				has_country_flag = ARTILLERY_UPGRADES_ARMORED
				rocket_art = 1
				not = { armored_mixed_support_rocket_artillery_upgrade = 1 }
				not = { armored_mixed_support_artillery_upgrade = 1 }
				not = { armored_mixed_support_medium_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_rct_artillery_upgrade = 1 }
			}
			and = { 
				has_country_flag = ARTILLERY_UPGRADES_ARMORED
				rocket_art = 2
				not = { armored_mixed_support_rocket_artillery_upgrade = 2 }
				not = { armored_mixed_support_artillery_upgrade = 1 }
				not = { armored_mixed_support_medium_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_rct_artillery_upgrade = 1 }
			}
			and = { 
				has_country_flag = ARTILLERY_UPGRADES_ARMORED
				rocket_art = 3
				not = { armored_mixed_support_rocket_artillery_upgrade = 3 }
				not = { armored_mixed_support_artillery_upgrade = 1 }
				not = { armored_mixed_support_medium_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_rct_artillery_upgrade = 1 }
			}
			and = { 
				has_country_flag = ARTILLERY_UPGRADES_ARMORED
				rocket_art = 4
				not = { armored_mixed_support_rocket_artillery_upgrade = 4 }
				not = { armored_mixed_support_artillery_upgrade = 1 }
				not = { armored_mixed_support_medium_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_rct_artillery_upgrade = 1 }
			}
		}
	}
	
	armored_support_brigade = {}
	SS_armored_support_brigade = {}
	
	on_completion = artillery_theory

	difficulty = 1
	
	research_bonus_from = {
		artillery_practical = 2
		artillery_theory = 2
	}

	# common for all techs.
	start_year = 1939
	first_offset = 1942		# 2nd model is from 1938
	additional_offset = 2	# one new every 2 years
	max_level = 4
	folder = special_forces_doctrine_folder
}


armored_mixed_support_sp_artillery_upgrade = {
	
	allow = {
		or = {
			and = {
				has_country_flag = ARTILLERY_UPGRADES_ARMORED
				sp_artillery_brigade_design = 1
				not = { armored_mixed_support_sp_artillery_upgrade = 1 }
				not = { armored_mixed_support_artillery_upgrade = 1 }
				not = { armored_mixed_support_medium_artillery_upgrade = 1 }
				not = { armored_mixed_support_rocket_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_rct_artillery_upgrade = 1 }
			}
			and = {
				has_country_flag = ARTILLERY_UPGRADES_ARMORED
				sp_artillery_brigade_design = 2
				not = { armored_mixed_support_sp_artillery_upgrade = 2 }
				not = { armored_mixed_support_artillery_upgrade = 1 }
				not = { armored_mixed_support_medium_artillery_upgrade = 1 }
				not = { armored_mixed_support_rocket_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_rct_artillery_upgrade = 1 }
			}
			and = {
				has_country_flag = ARTILLERY_UPGRADES_ARMORED
				sp_artillery_brigade_design = 4
				not = { armored_mixed_support_sp_artillery_upgrade = 3 }
				not = { armored_mixed_support_artillery_upgrade = 1 }
				not = { armored_mixed_support_medium_artillery_upgrade = 1 }
				not = { armored_mixed_support_rocket_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_rct_artillery_upgrade = 1 }
			}
			and = {
				has_country_flag = ARTILLERY_UPGRADES_ARMORED
				sp_artillery_brigade_design = 6
				not = { armored_mixed_support_sp_artillery_upgrade = 4 }
				not = { armored_mixed_support_artillery_upgrade = 1 }
				not = { armored_mixed_support_medium_artillery_upgrade = 1 }
				not = { armored_mixed_support_rocket_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_rct_artillery_upgrade = 1 }
			}
			and = {
				has_country_flag = ARTILLERY_UPGRADES_ARMORED
				sp_artillery_brigade_design = 8
				not = { armored_mixed_support_sp_artillery_upgrade = 5 }
				not = { armored_mixed_support_artillery_upgrade = 1 }
				not = { armored_mixed_support_medium_artillery_upgrade = 1 }
				not = { armored_mixed_support_rocket_artillery_upgrade = 1 }
				not = { armored_mixed_support_sp_rct_artillery_upgrade = 1 }
			}
		}
	}
	
	armored_support_brigade = {}
	SS_armored_support_brigade = {}
	
	on_completion = artillery_theory

	difficulty = 1
	
	research_bonus_from = {
		artillery_practical = 2
		artillery_theory = 2
	}

	# common for all techs.
	start_year = 1939
	first_offset = 1940		# 2nd model is from 1938
	additional_offset = 2	# one new every 2 years
	max_level = 5
	folder = special_forces_doctrine_folder
}

armored_mixed_support_sp_rct_artillery_upgrade = {
	
	allow = {
		has_country_flag = ARTILLERY_UPGRADES_ARMORED
		sp_rct_art_brigade_design = 1
		not = { armored_mixed_support_artillery_upgrade = 1 }
		not = { armored_mixed_support_medium_artillery_upgrade = 1 }
		not = { armored_mixed_support_rocket_artillery_upgrade = 1 }
		not = { armored_mixed_support_sp_artillery_upgrade = 1 }
	}
	
	armored_support_brigade = {}
	SS_armored_support_brigade = {}
	
	on_completion = artillery_theory

	difficulty = 1
	
	research_bonus_from = {
		artillery_practical = 2
		artillery_theory = 2
	}

	# common for all techs.
	start_year = 1942
	folder = special_forces_doctrine_folder
}


### ANTI_TANK_UPGRADES ###

armored_mixed_support_tank_destroyer_upgrade = {
	
	allow = {
		or = {
			and = {
				has_country_flag = ANTI_TANK_UPGRADES_ARMORED
				tank_destroyer_brigade_activation = 2
				not = { armored_mixed_support_tank_destroyer_upgrade = 1 }
			}
			and = {
				has_country_flag = ANTI_TANK_UPGRADES_ARMORED
				tank_destroyer_brigade_activation = 2
				not = { armored_mixed_support_tank_destroyer_upgrade = 2 }
			}
			and = {
				has_country_flag = ANTI_TANK_UPGRADES_ARMORED
				tank_destroyer_brigade_activation = 3
				not = { armored_mixed_support_tank_destroyer_upgrade = 3 }
			}
			and = {
				has_country_flag = ANTI_TANK_UPGRADES_ARMORED
				tank_destroyer_brigade_activation = 4
				not = { armored_mixed_support_tank_destroyer_upgrade = 4 }
			}
			and = {
				has_country_flag = ANTI_TANK_UPGRADES_ARMORED
				tank_destroyer_brigade_activation = 5
				not = { armored_mixed_support_tank_destroyer_upgrade = 5 }
			}
			and = {
				has_country_flag = ANTI_TANK_UPGRADES_ARMORED
				tank_destroyer_brigade_activation = 6
				not = { armored_mixed_support_tank_destroyer_upgrade = 6 }
			}
		}
	}
	
	armored_support_brigade = {}
	SS_armored_support_brigade = {}
	
	on_completion = automotive_theory

	difficulty = 1
	
	research_bonus_from = {
		armour_practical = 2
		automotive_theory = 2
	}

	# common for all techs.
	start_year = 1936
	first_offset = 1938		# 2nd model is from 1938
	additional_offset = 2	# one new every 2 years
	max_level = 6
	folder = special_forces_doctrine_folder
}

armored_mixed_support_medium_tank_destroyer_upgrade = {
	
	allow = {
		or = {
			and = {
				has_country_flag = ANTI_TANK_UPGRADES_ARMORED
				medium_tank_destroyer_brigade_activation = 1
				not = { armored_mixed_support_medium_tank_destroyer_upgrade = 1 }
			}
			and = {
				has_country_flag = ANTI_TANK_UPGRADES_ARMORED
				medium_tank_destroyer_brigade_activation = 2
				not = { armored_mixed_support_medium_tank_destroyer_upgrade = 2 }
			}
			and = {
				has_country_flag = ANTI_TANK_UPGRADES_ARMORED
				medium_tank_destroyer_brigade_activation = 3
				not = { armored_mixed_support_medium_tank_destroyer_upgrade = 3 }
			}
		}
	}
	
	armored_support_brigade = {}
	SS_armored_support_brigade = {}
	
	on_completion = automotive_theory

	difficulty = 1
	
	research_bonus_from = {
		armour_practical = 2
		automotive_theory = 2
	}

	# common for all techs.
	start_year = 1942
	first_offset = 1944		# 2nd model is from 1938
	additional_offset = 2	# one new every 2 years
	max_level = 3
	folder = special_forces_doctrine_folder
}

armored_mixed_support_heavy_tank_destroyer_upgrade = {
	
	allow = {
		or = {
			and = { 
				has_country_flag = ANTI_TANK_UPGRADES_ARMORED
				heavy_tank_destroyer_brigade_activation = 1
				not = { armored_mixed_support_heavy_assault_gun_upgrade = 1 }
				not = { armored_mixed_support_heavy_armor_upgrade = 1 }
				not = { armored_mixed_support_super_heavy_armor_upgrade = 1 }
			}
			and = { 
				has_country_flag = ANTI_TANK_UPGRADES_ARMORED
				heavy_tank_destroyer_brigade_activation = 2
				not = { armored_mixed_support_heavy_assault_gun_upgrade = 1 }
				not = { armored_mixed_support_heavy_armor_upgrade = 1 }
				not = { armored_mixed_support_super_heavy_armor_upgrade = 1 }
			}
			and = { 
				has_country_flag = ANTI_TANK_UPGRADES_ARMORED
				heavy_tank_destroyer_brigade_activation = 3
				not = { armored_mixed_support_heavy_assault_gun_upgrade = 1 }
				not = { armored_mixed_support_heavy_armor_upgrade = 1 }
				not = { armored_mixed_support_super_heavy_armor_upgrade = 1 }
			}
		}
	}
	
	armored_support_brigade = {}
	SS_armored_support_brigade = {}
	
	on_completion = automotive_theory

	difficulty = 1
	
	research_bonus_from = {
		armour_practical = 2
		automotive_theory = 2
	}

	# common for all techs.
	start_year = 1943
	first_offset = 1944		# 2nd model is from 1938
	additional_offset = 2	# one new every 2 years
	max_level = 3
	folder = special_forces_doctrine_folder
}

### ASSAULT_GUN_UPGRADES ###

armored_mixed_support_assault_gun_upgrade = {
	
	allow = {
		or = {
			and = {
				has_country_flag = ASSAULT_GUN_UPGRADES_ARMORED
				assault_gun_brigade_activation = 1
				not = { armored_mixed_support_assault_gun_upgrade = 1 }
			}
			and = {
				has_country_flag = ASSAULT_GUN_UPGRADES_ARMORED
				assault_gun_brigade_activation = 2
				not = { armored_mixed_support_assault_gun_upgrade = 2 }
			}
			and = {
				has_country_flag = ASSAULT_GUN_UPGRADES_ARMORED
				assault_gun_brigade_activation = 4
				not = { armored_mixed_support_assault_gun_upgrade = 3 }
			}
			and = {
				has_country_flag = ASSAULT_GUN_UPGRADES_ARMORED
				assault_gun_brigade_activation = 6
				not = { armored_mixed_support_assault_gun_upgrade = 4 }
			}
			and = {
				has_country_flag = ASSAULT_GUN_UPGRADES_ARMORED
				assault_gun_brigade_activation = 8
				not = { armored_mixed_support_assault_gun_upgrade = 5 }
			}
		}
	}
	
	armored_support_brigade = {}
	SS_armored_support_brigade = {}
	
	on_completion = automotive_theory

	difficulty = 1
	
	research_bonus_from = {
		armour_practical = 2
		automotive_theory = 2
	}

	# common for all techs.
	start_year = 1939
	first_offset = 1940		# 2nd model is from 1938
	additional_offset = 2	# one new every 2 years
	max_level = 5
	folder = special_forces_doctrine_folder
}

armored_mixed_support_heavy_assault_gun_upgrade = {
	
	allow = {
		or = {
			and = { 
				heavy_assault_gun_brigade_activation = 1
				not = { armored_mixed_support_heavy_assault_gun_upgrade = 1 }
				not = { armored_mixed_support_heavy_tank_destroyer_upgrade = 1 }
				not = { armored_mixed_support_heavy_armor_upgrade = 1 }
				not = { armored_mixed_support_super_heavy_armor_upgrade = 1 }
			}
			and = { 
				heavy_assault_gun_brigade_activation = 2
				not = { armored_mixed_support_heavy_assault_gun_upgrade = 2 }
				not = { armored_mixed_support_heavy_tank_destroyer_upgrade = 1 }
				not = { armored_mixed_support_heavy_armor_upgrade = 1 }
				not = { armored_mixed_support_super_heavy_armor_upgrade = 1 }
			}
			and = { 
				heavy_assault_gun_brigade_activation = 4
				not = { armored_mixed_support_heavy_assault_gun_upgrade = 3 }
				not = { armored_mixed_support_heavy_tank_destroyer_upgrade = 1 }
				not = { armored_mixed_support_heavy_armor_upgrade = 1 }
				not = { armored_mixed_support_super_heavy_armor_upgrade = 1 }
			}
		}
	}
	
	armored_support_brigade = {}
	SS_armored_support_brigade = {}
	
	on_completion = automotive_theory

	difficulty = 1
	
	research_bonus_from = {
		armour_practical = 2
		automotive_theory = 2
	}

	# common for all techs.
	start_year = 1943
	first_offset = 1944		# 2nd model is from 1938
	additional_offset = 2	# one new every 2 years
	max_level = 3
	folder = special_forces_doctrine_folder
}

### ENGINEERS_UPGRADES_ARMORED ###

armored_mixed_support_armored_engineers_upgrade = {
	
	allow = {
		or = {
			and = {
				has_country_flag = ENGINEERS_UPGRADES_ARMORED
				armored_engineers_brigade_activation = 1
				engineer_brigade_activation = 3
				not = { armored_mixed_support_armored_engineers_upgrade = 1 }
			}
			and = {
				has_country_flag = ENGINEERS_UPGRADES_ARMORED
				engineer_brigade_activation = 3
				not = { armored_mixed_support_armored_engineers_upgrade = 2 }
			}
			and = {
				has_country_flag = ENGINEERS_UPGRADES_ARMORED
				armored_engineers_brigade_activation = 1
				engineer_brigade_activation = 4
				not = { armored_mixed_support_armored_engineers_upgrade = 3 }
			}
			and = {
				has_country_flag = ENGINEERS_UPGRADES_ARMORED
				armored_engineers_brigade_activation = 1
				engineer_brigade_activation = 6
				not = { armored_mixed_support_armored_engineers_upgrade = 4 }
			}
		}
	}
	
	armored_support_brigade = {}
	SS_armored_support_brigade = {}
	
	on_completion = automotive_theory

	difficulty = 1
	
	research_bonus_from = {
		armour_practical = 2
		automotive_theory = 2
	}

	# common for all techs.
	start_year = 1941
	first_offset = 1942		# 2nd model is from 1938
	additional_offset = 2	# one new every 2 years
	max_level = 4
	folder = special_forces_doctrine_folder
}

### RECON_UPGRADES ###

armored_mixed_support_armored_car_upgrade = {
	
	allow = {
		or = {
			and = { 
				has_country_flag = RECON_UPGRADES_ARMORED
				armored_car_design = 1
				not = { armored_mixed_support_armored_car_upgrade = 1 }
			}
			and = { 
				has_country_flag = RECON_UPGRADES_ARMORED
				armored_car_design = 3
				not = { armored_mixed_support_armored_car_upgrade = 2 }
			}
			and = { 
				has_country_flag = RECON_UPGRADES_ARMORED
				armored_car_design = 5
				not = { armored_mixed_support_armored_car_upgrade = 3 }
			}
			and = { 
				has_country_flag = RECON_UPGRADES_ARMORED
				armored_car_design = 7
				not = { armored_mixed_support_armored_car_upgrade = 4 }
			}
			and = { 
				has_country_flag = RECON_UPGRADES_ARMORED
				armored_car_design = 9
				not = { armored_mixed_support_armored_car_upgrade = 5 }
			}
			and = { 
				has_country_flag = RECON_UPGRADES_ARMORED
				armored_car_design = 11
				not = { armored_mixed_support_armored_car_upgrade = 6 }
			}
		}
	}
	
	armored_support_brigade = {}
	SS_armored_support_brigade = {}
	
	on_completion = automotive_theory

	difficulty = 1
	
	research_bonus_from = {
		armour_practical = 2
		automotive_theory = 2
	}

	# common for all techs.
	start_year = 1936
	first_offset = 1938		# 2nd model is from 1938
	additional_offset = 2	# one new every 2 years
	max_level = 6
	folder = special_forces_doctrine_folder
}

### ARMOUR_UPGRADES ###

armored_mixed_support_LARM_upgrade = {
	
	allow = {
		or = {
			and = {
				has_country_flag = ARMOUR_UPGRADES_ARMORED
				light_armor_brigade_design = 1
				not = { armored_mixed_support_LARM_upgrade = 1 }
				not = { armored_mixed_support_ARM_upgrade = 1}
			}
			and = {
				has_country_flag = ARMOUR_UPGRADES_ARMORED
				light_armor_brigade_design = 2
				not = { armored_mixed_support_ARM_upgrade = 1}
				not = { armored_mixed_support_LARM_upgrade = 2 }
			}
			and = {
				has_country_flag = ARMOUR_UPGRADES_ARMORED
				light_armor_brigade_design = 4
				not = { armored_mixed_support_ARM_upgrade = 1}
				not = { armored_mixed_support_LARM_upgrade = 3 }
			}
			and = {
				has_country_flag = ARMOUR_UPGRADES_ARMORED
				light_armor_brigade_design = 6
				not = { armored_mixed_support_ARM_upgrade = 1}
				not = { armored_mixed_support_LARM_upgrade = 4 }
			}
			and = {
				has_country_flag = ARMOUR_UPGRADES_ARMORED
				light_armor_brigade_design = 8
				not = { armored_mixed_support_ARM_upgrade = 1}
				not = { armored_mixed_support_LARM_upgrade = 5 }
			}
			and = {
				has_country_flag = ARMOUR_UPGRADES_ARMORED
				light_armor_brigade_design = 10
				not = { armored_mixed_support_ARM_upgrade = 1}
				not = { armored_mixed_support_LARM_upgrade = 6 }
			}
		}	
	}
	
	armored_support_brigade = {}
	SS_armored_support_brigade = {}
	
	on_completion = automotive_theory

	difficulty = 1
	
	research_bonus_from = {
		armour_practical = 2
		automotive_theory = 2
	}

	# common for all techs.
	start_year = 1936
	first_offset = 1938		# 2nd model is from 1938
	additional_offset = 2	# one new every 2 years
	max_level = 6
	folder = special_forces_doctrine_folder
}

armored_mixed_support_ARM_upgrade = {
	
	allow = {
		or = {
			and = {
				has_country_flag = ARMOUR_UPGRADES_ARMORED
				armor_brigade_design = 1
				not = { armored_mixed_support_LARM_upgrade = 1 }
				not = { armored_mixed_support_ARM_upgrade = 1 }
			}
			and = {
				has_country_flag = ARMOUR_UPGRADES_ARMORED
				armor_brigade_design = 2
				not = { armored_mixed_support_LARM_upgrade = 1 }
				not = { armored_mixed_support_ARM_upgrade = 2 }
			}
			and = {
				has_country_flag = ARMOUR_UPGRADES_ARMORED
				armor_brigade_design = 4
				not = { armored_mixed_support_LARM_upgrade = 1 }
				not = { armored_mixed_support_ARM_upgrade = 3 }
			}
			and = {
				has_country_flag = ARMOUR_UPGRADES_ARMORED
				armor_brigade_design = 6
				not = { armored_mixed_support_LARM_upgrade = 1 }
				not = { armored_mixed_support_ARM_upgrade = 4 }
			}
			and = {
				has_country_flag = ARMOUR_UPGRADES_ARMORED
				armor_brigade_design = 8
				not = { armored_mixed_support_LARM_upgrade = 1 }
				not = { armored_mixed_support_ARM_upgrade = 5 }
			}
			and = {
				has_country_flag = ARMOUR_UPGRADES_ARMORED
				armor_brigade_design = 10
				not = { armored_mixed_support_LARM_upgrade = 1 }
				not = { armored_mixed_support_ARM_upgrade = 6 }
			}
		}
	}
	
	armored_support_brigade = {}
	SS_armored_support_brigade = {}
	
	on_completion = automotive_theory

	difficulty = 1
	
	research_bonus_from = {
		armour_practical = 2
		automotive_theory = 2
	}

	# common for all techs.
	start_year = 1937
	first_offset = 1938		# 2nd model is from 1938
	additional_offset = 2	# one new every 2 years
	max_level = 6
	folder = special_forces_doctrine_folder
}

armored_mixed_support_HARM_upgrade = {
	
	allow = {
		or = {
			and = {
				has_country_flag = ARMOUR_UPGRADES_ARMORED
				heavy_armor_brigade_design = 1
				not = { armored_mixed_support_HARM_upgrade = 1 }
				not = { armored_mixed_support_heavy_assault_gun_upgrade = 1 }
				not = { armored_mixed_support_heavy_tank_destroyer_upgrade = 1 }
			}
			and = {
				has_country_flag = ARMOUR_UPGRADES_ARMORED
				heavy_armor_brigade_design = 2
				not = { armored_mixed_support_HARM_upgrade = 2 }
				not = { armored_mixed_support_heavy_assault_gun_upgrade = 1 }
				not = { armored_mixed_support_heavy_tank_destroyer_upgrade = 1 }
			}
			and = {
				has_country_flag = ARMOUR_UPGRADES_ARMORED
				heavy_armor_brigade_design = 3
				not = { armored_mixed_support_HARM_upgrade = 3 }
				not = { armored_mixed_support_heavy_assault_gun_upgrade = 1 }
				not = { armored_mixed_support_heavy_tank_destroyer_upgrade = 1 }
			}
			and = {
				has_country_flag = ARMOUR_UPGRADES_ARMORED
				heavy_armor_brigade_design = 4
				not = { armored_mixed_support_HARM_upgrade = 4 }
				not = { armored_mixed_support_heavy_assault_gun_upgrade = 1 }
				not = { armored_mixed_support_heavy_tank_destroyer_upgrade = 1 }
			}
			and = {
				has_country_flag = ARMOUR_UPGRADES_ARMORED
				heavy_armor_brigade_design = 5
				not = { armored_mixed_support_HARM_upgrade = 5 }
				not = { armored_mixed_support_heavy_assault_gun_upgrade = 1 }
				not = { armored_mixed_support_heavy_tank_destroyer_upgrade = 1 }
			}
			and = {
				has_country_flag = ARMOUR_UPGRADES_ARMORED
				heavy_armor_brigade_design = 6
				not = { armored_mixed_support_HARM_upgrade = 6 }
				not = { armored_mixed_support_heavy_assault_gun_upgrade = 1 }
				not = { armored_mixed_support_heavy_tank_destroyer_upgrade = 1 }
			}
		}
	}
	
	armored_support_brigade = {}
	SS_armored_support_brigade = {}
	
	on_completion = automotive_theory

	difficulty = 1
	
	research_bonus_from = {
		armour_practical = 2
		automotive_theory = 2
	}

	# common for all techs.
	start_year = 1937
	first_offset = 1938		# 2nd model is from 1938
	additional_offset = 2	# one new every 2 years
	max_level = 6
	folder = special_forces_doctrine_folder
}

armored_mixed_support_SHARM_upgrade = {
	
	allow = {
		or = {
			and = {
				has_country_flag = ARMOUR_UPGRADES_ARMORED
				super_heavy_tank_design = 1
				not = { armored_mixed_support_HARM_upgrade = 1 }
				not = { armored_mixed_support_heavy_armor_upgrade = 1 }
				not = { armored_mixed_support_heavy_tank_destroyer_upgrade = 1 }	
			}
			and = {
				has_country_flag = ARMOUR_UPGRADES_ARMORED
				super_heavy_tank_design = 2
				not = { armored_mixed_support_HARM_upgrade = 1 }
				not = { armored_mixed_support_heavy_armor_upgrade = 1 }
				not = { armored_mixed_support_heavy_tank_destroyer_upgrade = 1 }	
			}
		}
	}
	
	armored_support_brigade = {}
	SS_armored_support_brigade = {}
	
	on_completion = automotive_theory

	difficulty = 1
	
	research_bonus_from = {
		armour_practical = 2
		automotive_theory = 2
	}

	# common for all techs.
	start_year = 1944
	first_offset = 1946		# 2nd model is from 1938
	additional_offset = 2	# one new every 2 years
	max_level = 2
	folder = special_forces_doctrine_folder
}

###ANTI_AIR_UPGRADES###
armored_mixed_support_sp_anti_air_upgrade = {
	
	allow = {
		has_country_flag = ANTI_AIR_UPGRADES_ARMORED
		sp_anti_air_design = 1
	}
	
	armored_support_brigade = {}
	SS_armored_support_brigade = {}
	
	on_completion = automotive_theory

	difficulty = 1
	
	research_bonus_from = {
		armour_practical = 2
		automotive_theory = 2
	}

	# common for all techs.
	start_year = 1942
	folder = special_forces_doctrine_folder
}
