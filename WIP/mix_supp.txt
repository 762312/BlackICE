##############################	
######MIXED SUPPORT TECHS#####
##############################

### ARTILLERY UPGRADES ###

mixed_support_artillery_upgrade = {
	
	allow = {
		or = {
			and = {
				has_country_flag = ARTILLERY_UPGRADES
				artillery_activation = 3
				not = { mixed_support_artillery_upgrade = 1 }
				not = { mixed_support_rocket_artillery_upgrade = 1 }
				not = { mixed_support_medium_artillery_upgrade = 1 }
				not = { mixed_support_heavy_artillery_upgrade = 1 }
				not = { mixed_support_pack_artillery_upgrade = 1 }
			}
			and = {
				has_country_flag = ARTILLERY_UPGRADES
				artillery_activation = 4
				not = { mixed_support_artillery_upgrade = 2 }
				not = { mixed_support_rocket_artillery_upgrade = 1 }
				not = { mixed_support_medium_artillery_upgrade = 1 }
				not = { mixed_support_heavy_artillery_upgrade = 1 }
				not = { mixed_support_pack_artillery_upgrade = 1 }
			}
			and = {
				has_country_flag = ARTILLERY_UPGRADES
				artillery_activation = 5
				not = { mixed_support_artillery_upgrade = 3 }
				not = { mixed_support_rocket_artillery_upgrade = 1 }
				not = { mixed_support_medium_artillery_upgrade = 1 }
				not = { mixed_support_heavy_artillery_upgrade = 1 }
				not = { mixed_support_pack_artillery_upgrade = 1 }
			}
			and = {
				has_country_flag = ARTILLERY_UPGRADES
				artillery_activation = 6
				not = { mixed_support_artillery_upgrade = 4 }
				not = { mixed_support_rocket_artillery_upgrade = 1 }
				not = { mixed_support_medium_artillery_upgrade = 1 }
				not = { mixed_support_heavy_artillery_upgrade = 1 }
				not = { mixed_support_pack_artillery_upgrade = 1 }
			}
			and = {
				has_country_flag = ARTILLERY_UPGRADES
				artillery_activation = 7
				not = { mixed_support_artillery_upgrade = 5 }
				not = { mixed_support_rocket_artillery_upgrade = 1 }
				not = { mixed_support_medium_artillery_upgrade = 1 }
				not = { mixed_support_heavy_artillery_upgrade = 1 }
				not = { mixed_support_pack_artillery_upgrade = 1 }
			}
			and = {
				has_country_flag = ARTILLERY_UPGRADES
				artillery_activation = 8
				not = { mixed_support_artillery_upgrade = 6 }
				not = { mixed_support_rocket_artillery_upgrade = 1 }
				not = { mixed_support_medium_artillery_upgrade = 1 }
				not = { mixed_support_heavy_artillery_upgrade = 1 }
				not = { mixed_support_pack_artillery_upgrade = 1 }
			}
		}
	}
	
	mixed_support_brigade = {}
	SS_mixed_support_brigade = {}
	
	on_completion = artillery_theory

	difficulty = 1
	
	research_bonus_from = {
		artillery_practical = 2
		artillery_theory = 2
	}

	# common for all techs.
	start_year = 1936
	first_offset = 1938		# 2nd model is from 1938
	additional_offset = 2	# one new every 2 years
	max_level = 6
	folder = special_forces_doctrine_folder
}

mixed_support_medium_artillery_upgrade = {
	
	allow = {
		or = {
			and = {
				has_country_flag = ARTILLERY_UPGRADES
				Artillery_motorization = 1
				not = { mixed_support_medium_artillery_upgrade = 1 }
				not = { mixed_support_artillery_upgrade = 1 }
				not = { mixed_support_heavy_artillery_upgrade = 1 }
				not = { mixed_support_pack_artillery_upgrade = 1 }
				not = { mixed_support_rocket_artillery_upgrade = 1 }
			}
			and = {
				has_country_flag = ARTILLERY_UPGRADES
				Artillery_motorization = 1
				not = { mixed_support_medium_artillery_upgrade = 2 }
				not = { mixed_support_artillery_upgrade = 1 }
				not = { mixed_support_rocket_artillery_upgrade = 1 }
				not = { mixed_support_heavy_artillery_upgrade = 1 }
				not = { mixed_support_pack_artillery_upgrade = 1 }
			}
			and = {
				has_country_flag = ARTILLERY_UPGRADES
				Artillery_motorization = 2
				not = { mixed_support_medium_artillery_upgrade = 3 }
				not = { mixed_support_artillery_upgrade = 1 }
				not = { mixed_support_rocket_artillery_upgrade = 1 }
				not = { mixed_support_heavy_artillery_upgrade = 1 }
				not = { mixed_support_pack_artillery_upgrade = 1 }
			}
			and = {
				has_country_flag = ARTILLERY_UPGRADES
				Artillery_motorization = 3
				not = { mixed_support_medium_artillery_upgrade = 4 }
				not = { mixed_support_artillery_upgrade = 1 }
				not = { mixed_support_rocket_artillery_upgrade = 1 }
				not = { mixed_support_heavy_artillery_upgrade = 1 }
				not = { mixed_support_pack_artillery_upgrade = 1 }
			}
			and = {
				has_country_flag = ARTILLERY_UPGRADES
				Artillery_motorization = 4
				not = { mixed_support_medium_artillery_upgrade = 5 }
				not = { mixed_support_artillery_upgrade = 1 }
				not = { mixed_support_rocket_artillery_upgrade = 1 }
				not = { mixed_support_heavy_artillery_upgrade = 1 }
				not = { mixed_support_pack_artillery_upgrade = 1 }
			}
		}
	}
	
	mixed_support_brigade = {}
	SS_mixed_support_brigade = {}
	
	on_completion = artillery_theory

	difficulty = 1
	
	research_bonus_from = {
		artillery_practical = 2
		artillery_theory = 2
	}

	# common for all techs.
	start_year = 1936
	first_offset = 1938		# 2nd model is from 1938
	additional_offset = 2	# one new every 2 years
	max_level = 6
	folder = special_forces_doctrine_folder
}

mixed_support_heavy_artillery_upgrade = {
	
	allow = {
		or = {
			and = {
				heavy_artillery_activation = 1
				has_country_flag = ARTILLERY_UPGRADES
				not = { mixed_support_heavy_artillery_upgrade = 1 }
				not = { mixed_support_artillery_upgrade = 1 }
				not = { mixed_support_medium_artillery_upgrade = 1 }
				not = { mixed_support_rocket_artillery_upgrade = 1 }
				not = { mixed_support_pack_artillery_upgrade = 1 }
			}
			and = {
				heavy_artillery_activation = 2
				has_country_flag = ARTILLERY_UPGRADES
				not = { mixed_support_heavy_artillery_upgrade = 2 }
				not = { mixed_support_artillery_upgrade = 1 }
				not = { mixed_support_medium_artillery_upgrade = 1 }
				not = { mixed_support_rocket_artillery_upgrade = 1 }
				not = { mixed_support_pack_artillery_upgrade = 1 }
			}
			and = {
				heavy_artillery_activation = 2
				has_country_flag = ARTILLERY_UPGRADES
				not = { mixed_support_heavy_artillery_upgrade = 3 }
				not = { mixed_support_artillery_upgrade = 1 }
				not = { mixed_support_medium_artillery_upgrade = 1 }
				not = { mixed_support_rocket_artillery_upgrade = 1 }
				not = { mixed_support_pack_artillery_upgrade = 1 }
			}
			and = {
				heavy_artillery_activation = 3
				has_country_flag = ARTILLERY_UPGRADES
				not = { mixed_support_heavy_artillery_upgrade = 4 }
				not = { mixed_support_artillery_upgrade = 1 }
				not = { mixed_support_medium_artillery_upgrade = 1 }
				not = { mixed_support_rocket_artillery_upgrade = 1 }
				not = { mixed_support_pack_artillery_upgrade = 1 }
			}
			and = {
				heavy_artillery_activation = 4
				has_country_flag = ARTILLERY_UPGRADES
				not = { mixed_support_heavy_artillery_upgrade = 5 }
				not = { mixed_support_artillery_upgrade = 1 }
				not = { mixed_support_medium_artillery_upgrade = 1 }
				not = { mixed_support_rocket_artillery_upgrade = 1 }
				not = { mixed_support_pack_artillery_upgrade = 1 }
			}
			and = {
				heavy_artillery_activation = 5
				has_country_flag = ARTILLERY_UPGRADES
				not = { mixed_support_heavy_artillery_upgrade = 6 }
				not = { mixed_support_artillery_upgrade = 1 }
				not = { mixed_support_medium_artillery_upgrade = 1 }
				not = { mixed_support_rocket_artillery_upgrade = 1 }
				not = { mixed_support_pack_artillery_upgrade = 1 }
			}
		}
	}
	
	mixed_support_brigade = {}
	SS_mixed_support_brigade = {}
	
	on_completion = artillery_theory

	difficulty = 1
	
	research_bonus_from = {
		artillery_practical = 2
		artillery_theory = 2
	}

	# common for all techs.
	start_year = 1936
	first_offset = 1938		# 2nd model is from 1938
	additional_offset = 2	# one new every 2 years
	max_level = 6
	folder = special_forces_doctrine_folder
}

mixed_support_rocket_artillery_upgrade = {
	
	allow = {
		or = {
			and = { 
				has_country_flag = ARTILLERY_UPGRADES
				rocket_art = 1
				not = { mixed_support_rocket_artillery_upgrade = 1 }
				not = { mixed_support_artillery_upgrade = 1 }
				not = { mixed_support_medium_artillery_upgrade = 1 }
				not = { mixed_support_sp_artillery_upgrade = 1 }
				not = { mixed_support_sp_rct_artillery_upgrade = 1 }
			}
			and = { 
				has_country_flag = ARTILLERY_UPGRADES
				rocket_art = 2
				not = { mixed_support_rocket_artillery_upgrade = 2 }
				not = { mixed_support_artillery_upgrade = 1 }
				not = { mixed_support_medium_artillery_upgrade = 1 }
				not = { mixed_support_sp_artillery_upgrade = 1 }
				not = { mixed_support_sp_rct_artillery_upgrade = 1 }
			}
			and = { 
				has_country_flag = ARTILLERY_UPGRADES
				rocket_art = 3
				not = { mixed_support_rocket_artillery_upgrade = 3 }
				not = { mixed_support_artillery_upgrade = 1 }
				not = { mixed_support_medium_artillery_upgrade = 1 }
				not = { mixed_support_sp_artillery_upgrade = 1 }
				not = { mixed_support_sp_rct_artillery_upgrade = 1 }
			}
			and = { 
				has_country_flag = ARTILLERY_UPGRADES
				rocket_art = 4
				not = { mixed_support_rocket_artillery_upgrade = 4 }
				not = { mixed_support_artillery_upgrade = 1 }
				not = { mixed_support_medium_artillery_upgrade = 1 }
				not = { mixed_support_sp_artillery_upgrade = 1 }
				not = { mixed_support_sp_rct_artillery_upgrade = 1 }
			}
		}
	}
	
	mixed_support_brigade = {}
	SS_mixed_support_brigade = {}
	
	on_completion = artillery_theory

	difficulty = 1
	
	research_bonus_from = {
		artillery_practical = 2
		artillery_theory = 2
	}

	# common for all techs.
	start_year = 1936
	first_offset = 1938		# 2nd model is from 1938
	additional_offset = 2	# one new every 2 years
	max_level = 5
	folder = special_forces_doctrine_folder
}

mixed_support_pack_artillery_upgrade = {
	
	allow = {
		or = {
			and = {
				pack_artillery_brigade_activation = 1
				artillery_activation = 4
				has_country_flag = ARTILLERY_UPGRADES
				not = { mixed_support_pack_artillery_upgrade = 1 }
				not = { mixed_support_artillery_upgrade = 1 }
				not = { mixed_support_medium_artillery_upgrade = 1 }
				not = { mixed_support_heavy_artillery_upgrade = 1 }
				not = { mixed_support_rocket_artillery_upgrade = 1 }
			}
			and = {
				pack_artillery_brigade_activation = 1
				artillery_activation = 5
				has_country_flag = ARTILLERY_UPGRADES
				not = { mixed_support_pack_artillery_upgrade = 2 }
				not = { mixed_support_artillery_upgrade = 1 }
				not = { mixed_support_medium_artillery_upgrade = 1 }
				not = { mixed_support_heavy_artillery_upgrade = 1 }
				not = { mixed_support_rocket_artillery_upgrade = 1 }
			}
			and = {
				pack_artillery_brigade_activation = 1
				artillery_activation = 6
				has_country_flag = ARTILLERY_UPGRADES
				not = { mixed_support_pack_artillery_upgrade = 3 }
				not = { mixed_support_artillery_upgrade = 1 }
				not = { mixed_support_medium_artillery_upgrade = 1 }
				not = { mixed_support_heavy_artillery_upgrade = 1 }
				not = { mixed_support_rocket_artillery_upgrade = 1 }
			}
			and = {
				pack_artillery_brigade_activation = 1
				artillery_activation = 7
				has_country_flag = ARTILLERY_UPGRADES
				not = { mixed_support_pack_artillery_upgrade = 4 }
				not = { mixed_support_artillery_upgrade = 1 }
				not = { mixed_support_medium_artillery_upgrade = 1 }
				not = { mixed_support_heavy_artillery_upgrade = 1 }
				not = { mixed_support_rocket_artillery_upgrade = 1 }
			}
			and = {
				pack_artillery_brigade_activation = 1
				artillery_activation = 8
				has_country_flag = ARTILLERY_UPGRADES
				not = { mixed_support_pack_artillery_upgrade = 5 }
				not = { mixed_support_artillery_upgrade = 1 }
				not = { mixed_support_medium_artillery_upgrade = 1 }
				not = { mixed_support_heavy_artillery_upgrade = 1 }
				not = { mixed_support_rocket_artillery_upgrade = 1 }
			}
		}
	}
	
	mixed_support_brigade = {}
	SS_mixed_support_brigade = {}
	
	on_completion = artillery_theory

	difficulty = 1
	
	research_bonus_from = {
		artillery_practical = 2
		artillery_theory = 2
	}

	# common for all techs.
	start_year = 1939
	first_offset = 1940		# 2nd model is from 1938
	additional_offset = 3	# one new every 2 years
	max_level = 5
	folder = special_forces_doctrine_folder
}

### ANTI TANK ###

mixed_support_anti_tank_upgrade = {
	
	allow = {
		has_country_flag = ANTI_TANK_UPGRADES
		small_calibre_gun_design = 1
	}
	
	mixed_support_brigade = {}
	SS_mixed_support_brigade = {}
	
	on_completion = artillery_theory

	difficulty = 1
	
	research_bonus_from = {
		artillery_practical = 2
		artillery_theory = 2
	}

	# common for all techs.
	start_year = 1936
	first_offset = 1938		# 2nd model is from 1938
	additional_offset = 2	# one new every 2 years
	max_level = 6
	folder = special_forces_doctrine_folder
}

mixed_support_heavy_anti_tank_upgrade = {
	
	allow = {
		or = {
			and = {
				has_country_flag = ANTI_TANK_UPGRADES
				high_velocity_gun = 1
				not = { mixed_support_heavy_anti_tank_upgrade = 1 }
			}
		}
		or = {
			and = {
				has_country_flag = ANTI_TANK_UPGRADES
				high_velocity_gun = 2
				not = { mixed_support_heavy_anti_tank_upgrade = 2 }
			}
		}
		or = {
			and = {
				has_country_flag = ANTI_TANK_UPGRADES
				high_velocity_gun = 3
				not = { mixed_support_heavy_anti_tank_upgrade = 3 }
			}
		}
	}
	
	mixed_support_brigade = {}
	SS_mixed_support_brigade = {}
	
	on_completion = artillery_theory

	difficulty = 1
	
	research_bonus_from = {
		artillery_practical = 2
		artillery_theory = 2
	}

	# common for all techs.
	start_year = 1942
	first_offset = 1943		# 2nd model is from 1938
	additional_offset = 2	# one new every 2 years
	max_level = 3
	folder = special_forces_doctrine_folder
}

### ANTI AIR ###

mixed_support_anti_air_upgrade = {
	
	allow = {
		has_country_flag = ANTI_AIR_UPGRADES
	}
	
	mixed_support_brigade = {}
	SS_mixed_support_brigade = {}
	
	on_completion = artillery_theory

	difficulty = 1
	
	research_bonus_from = {
		artillery_practical = 2
		artillery_theory = 2
	}

	# common for all techs.
	start_year = 1936
	first_offset = 1938		# 2nd model is from 1938
	additional_offset = 2	# one new every 2 years
	max_level = 6
	folder = special_forces_doctrine_folder
}

### ENGINEERS ###

mixed_support_engineers_upgrade = {
	
	allow = {
		or = {
			and = {
				has_country_flag = ENGINEERS_UPGRADES
				engineer_brigade_activation = 1
				not = { mixed_support_engineers_upgrade = 1 }
			}
			and = {
				has_country_flag = ENGINEERS_UPGRADES
				engineer_brigade_activation = 2
				not = { mixed_support_engineers_upgrade = 2 }
			}
			and = {
				has_country_flag = ENGINEERS_UPGRADES
				engineer_brigade_activation = 3
				not = { mixed_support_engineers_upgrade = 3 }
			}
			and = {
				has_country_flag = ENGINEERS_UPGRADES
				engineer_brigade_activation = 4
				not = { mixed_support_engineers_upgrade = 4 }
			}
			and = {
				has_country_flag = ENGINEERS_UPGRADES
				engineer_brigade_activation = 5
				not = { mixed_support_engineers_upgrade = 5 }
			}
		}
	}
	
	mixed_support_brigade = {}
	SS_mixed_support_brigade = {}
	
	on_completion = infantry_theory

	difficulty = 1
	
	research_bonus_from = {
		artillery_practical = 2
		artillery_theory = 2
	}

	# common for all techs.
	start_year = 1936
	first_offset = 1939		# 2nd model is from 1938
	additional_offset = 2	# one new every 2 years
	max_level = 5
	folder = special_forces_doctrine_folder
}

### RECON ###

mixed_support_recon_cavalry_upgrade = {
	
	allow = {
		has_country_flag = RECON_UPGRADES
		Recon_cavalry_brigade = 1			
	}
	
	mixed_support_brigade = {}
	SS_mixed_support_brigade = {}
	
	on_completion = artillery_theory

	difficulty = 1
	
	research_bonus_from = {
		artillery_practical = 2
		artillery_theory = 2
	}

	# common for all techs.
	start_year = 1936
	first_offset = 1938		# 2nd model is from 1938
	additional_offset = 2	# one new every 2 years
	max_level = 6
	folder = special_forces_doctrine_folder
}

### ASSAULT GUN ###

mixed_support_assault_gun_upgrade = {
	
	allow = {
		or = { 
			and = {
				has_country_flag = ASSAULT_GUN_UPGRADES
				assault_gun_brigade_activation = 1
				not = { mixed_support_assault_gun_upgrade = 1 }
			}
			and = {
				has_country_flag = ASSAULT_GUN_UPGRADES
				assault_gun_brigade_activation = 2
				not = { mixed_support_assault_gun_upgrade = 2 }
			}
			and = {
				has_country_flag = ASSAULT_GUN_UPGRADES
				assault_gun_brigade_activation = 4
				not = { mixed_support_assault_gun_upgrade = 3 }
			}
			and = {
				has_country_flag = ASSAULT_GUN_UPGRADES
				assault_gun_brigade_activation = 6
				not = { mixed_support_assault_gun_upgrade = 4 }
			}
			and = {
				has_country_flag = ASSAULT_GUN_UPGRADES
				assault_gun_brigade_activation = 8
				not = { mixed_support_assault_gun_upgrade = 5 }
			}
		}

	
	mixed_support_brigade = {}
	SS_mixed_support_brigade = {}
	
	on_completion = automotive_theory

	difficulty = 1
	
	research_bonus_from = {
		automotive_practical = 2
		automotive_theory = 2
	}

	# common for all techs.
	start_year = 1939
	first_offset = 1940		# 2nd model is from 1938
	additional_offset = 2	# one new every 2 years
	max_level = 5
	folder = special_forces_doctrine_folder
}

### INFANTRY TANK ###

mixed_support_infantry_tank_upgrade = {
	
	allow = {
		or = {
			and = {
				has_country_flag = INFANTRY_TANK_UPGRADES
				infantry_tank_design = 1
				not = { mixed_support_infantry_tank_upgrade = 1 }
			}
			and = {
				has_country_flag = INFANTRY_TANK_UPGRADES
				infantry_tank_design = 2
				not = { mixed_support_infantry_tank_upgrade = 2 }
			}
			and = {
				has_country_flag = INFANTRY_TANK_UPGRADES
				infantry_tank_design = 3
				not = { mixed_support_infantry_tank_upgrade = 3 }
			}
			and = {
				has_country_flag = INFANTRY_TANK_UPGRADES
				infantry_tank_design = 4
				not = { mixed_support_infantry_tank_upgrade = 4 }
			}
			and = {
				has_country_flag = INFANTRY_TANK_UPGRADES
				infantry_tank_design = 5
				not = { mixed_support_infantry_tank_upgrade = 5 }
			}
			and = {
				has_country_flag = INFANTRY_TANK_UPGRADES
				infantry_tank_design = 6
				not = { mixed_support_infantry_tank_upgrade = 6 }
			}
		}
	}	
	
	mixed_support_brigade = {}
	SS_mixed_support_brigade = {}
	
	on_completion = automotive_theory

	difficulty = 1
	
	research_bonus_from = {
		armour_practical = 2
		automotive_theory = 2
	}

	# common for all techs.
	start_year = 1936
	first_offset = 1938		# 2nd model is from 1938
	additional_offset = 2	# one new every 2 years
	max_level = 6
	folder = special_forces_doctrine_folder
}

### AMPH.ARM. ###

mixed_support_amph_armour_upgrade = {
	
	allow = {
		or = {
			and = {
				has_country_flag = AMPHIBIOUS_ARMOR_UPGRADES
				amph_armour_brigade_activation = 1
				not = { mixed_support_amph_armour_upgrade = 1	}
			}
			and = {
				has_country_flag = AMPHIBIOUS_ARMOR_UPGRADES
				amph_armour_brigade_activation = 2
				not = { mixed_support_amph_armour_upgrade = 2	}
			}
			and = {
				has_country_flag = AMPHIBIOUS_ARMOR_UPGRADES
				amph_armour_brigade_activation = 3
				not = { mixed_support_amph_armour_upgrade = 3 }
			}
			and = {
				has_country_flag = AMPHIBIOUS_ARMOR_UPGRADES
				amph_armour_brigade_activation = 4
				not = { mixed_support_amph_armour_upgrade = 4	}
			}
			and = {
				has_country_flag = AMPHIBIOUS_ARMOR_UPGRADES
				amph_armour_brigade_activation = 5
				not = { mixed_support_amph_armour_upgrade = 5	}
			}
		}
	}
	
	mixed_support_brigade = {}
	SS_mixed_support_brigade = {}
	
	on_completion = automotive_theory

	difficulty = 1
	
	research_bonus_from = {
		armour_practical = 2
		automotive_theory = 2
	}

	# common for all techs.
	start_year = 1940
	first_offset = 1942		# 2nd model is from 1938
	additional_offset = 2	# one new every 2 years
	max_level = 4
	folder = special_forces_doctrine_folder
}
